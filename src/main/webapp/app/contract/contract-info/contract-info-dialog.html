<h2><span data-translate="cpmApp.contractInfo.home.createOrEditLabel">Create or edit a Contract Info</span></h2>
<hr>
<form name="myForm" role="form" ng-submit="vm.save()">
	<div class="container-fluid">
		<div class="row form-horizontal">
			<div class="form-group">
				<div class="col-sm-6">
					<label class="control-label" data-translate="cpmApp.contractInfo.serialNum" for="field_serialNum">Serial Num</label>
		            <input type="text" class="form-control" name="serialNum" id="field_serialNum" ng-change="vm.serialNumChanged()"
		            	 ng-disabled="vm.serialNumDisabled"
		                    ng-model="vm.contractInfo.serialNum" ng-required="true" ng-minlength="1" ng-maxlength="20" 
		                     />
		             <div ng-show="myForm.serialNum.$dirty&&myForm.serialNum.$error.minlength" class="alert alert-danger help-block"> 
		                    	合同编号必填
		             </div>
		             <div ng-show="myForm.serialNum.$dirty&&myForm.serialNum.$error.maxlength" class="alert alert-danger help-block"> 
		                    	合同编号不能大于20
		             </div>
		             <div class="help-block"
	                   ng-show="myForm.serialNum.$error.required" data-translate="entity.validation.required" style="color:red">
	                    This field is required.
	                </div>
				</div>
        		<div class="col-sm-6">
        			<label class="control-label" data-translate="cpmApp.contractInfo.name" for="field_name">Name</label>
		            <input type="text" class="form-control" name="name" id="field_name"
		                    ng-model="vm.contractInfo.name" ng-required="true" ng-minlength="1" ng-maxlength="100"
		                     />
		             <div ng-show="myForm.name.$dirty&&myForm.name.$error.minlength" class="alert alert-danger help-block"> 
		                    	合同名称必填
		           	</div>
		          	<div ng-show="myForm.name.$dirty&&myForm.name.$error.maxlength" class="alert alert-danger help-block"> 
		                	合同名称不能大于100
		           	</div>
		           	<div class="help-block"
	                   ng-show="myForm.name.$error.required" data-translate="entity.validation.required" style="color:red">
	                    This field is required.
	                </div>
        		</div>
        	</div>
        	<div class="form-group">
				<div class="col-sm-6">
					<label class="control-label" data-translate="cpmApp.contractInfo.type" for="field_type">Type</label>
		           	<select class="form-control" name="type" ng-model="vm.contractInfo.type" ng-required="true"
		           		ng-disabled="vm.contractInfo.id"
		           		ng-change="vm.changeType()"
						ng-options="type.val for type in vm.types track by type.key">
					</select>
					<div class="help-block"
	                   ng-show="myForm.type.$error.required" data-translate="entity.validation.required" style="color:red">
	                    This field is required.
	                </div>
				</div>
        		<div class="col-sm-6">
        			<div class="col-sm-12">
        			&nbsp;
        			</div>
        			<div class="col-sm-6">
			      		<label class="control-label" data-translate="cpmApp.contractInfo.isPrepared" for="field_isPrepared"> Is Prepared </label> 
			 			<input type="checkbox" name="isPrepared" id="field_isPrepared" ng-model="vm.contractInfo.isPrepared" ng-disabled="true"/>
			        </div>
			        <div class="col-sm-6">
			         	<label class="control-label"  data-translate="cpmApp.contractInfo.isEpibolic" for="field_isEpibolic">Is Epibolic </label>
			 			<input type="checkbox" name="isEpibolic" id="field_isEpibolic" ng-model="vm.contractInfo.isEpibolic" ng-disabled="vm.contractInfo.id"/>
			        </div>
        		</div>
        	</div>
        	<div class="form-group">
				<div class="col-sm-6">
					<label class="control-label" data-translate="cpmApp.contractInfo.salesman" for="field_salesman">salesman</label>
	          		<div class="input-group">
		          		<input type="text" class="form-control" name="salesman" id="field_salesman"
		                  	ng-model="vm.contractInfo.salesman" readonly
	                   	/>
	                   	<span class="input-group-btn">
	                     	<button type="button" class="btn btn-default" ui-sref="{{vm.queryDept}}({selectType:3,showChild:true,dataType:1})"><i class="glyphicon glyphicon-user"></i></button>
	                 	</span>
	            	</div>
	            	<div class="help-block"
	                   ng-show="!vm.contractInfo.consultants && !vm.contractInfo.salesman" data-translate="cpmApp.contractInfo.required.salesmanAndconsultants" style="color:red">
	                    Salesman or Consultants required.
	                </div>
				</div>
        		<div class="col-sm-6">
        			<label class="control-label" data-translate="cpmApp.contractInfo.dept" for="field_dept" >Dept</label>
	  				<input type="text" class="form-control" name="dept" id="field_dept"
	                  	ng-model="vm.contractInfo.dept" readonly
	                   	/>
        		</div>
        	</div>
        	<div class="form-group">
				<div class="col-sm-6">
					<label class="control-label" data-translate="cpmApp.contractInfo.consultants" for="field_consultants">Consultants</label>
	          		<div class="input-group">
		          		<input type="text" class="form-control" name="consultants" id="field_consultants"
		                  	ng-model="vm.contractInfo.consultants" readonly
	                   	/>
	                   	<span class="input-group-btn">
	                     	<button type="button" class="btn btn-default" ui-sref="{{vm.queryDept}}({selectType:3,showChild:true,dataType:2})"><i class="glyphicon glyphicon-user"></i></button>
	                 	</span>
	            	</div>
	            	<div class="help-block"
	                   ng-show="!vm.contractInfo.consultants && !vm.contractInfo.salesman" data-translate="cpmApp.contractInfo.required.salesmanAndconsultants" style="color:red">
	                    Salesman or Consultants required.
	                </div>
				</div>
        		<div class="col-sm-6">
        			<label class="control-label" data-translate="cpmApp.contractInfo.consultantsDept" for="field_consultantsDept" >Consultants Dept</label>
	  				<input type="text" class="form-control" name="consultantsDept" id="field_consultantsDept"
	                  	ng-model="vm.contractInfo.consultantsDept" readonly
	                   	/>
        		</div>
        	</div>
        	<div class="form-group" ng-show="vm.contractInfo.consultants">
				<div class="col-sm-6">
					<label class="control-label" data-translate="cpmApp.contractInfo.consultantsShareRate" for="field_consultantsShareRate">Consultants Rate</label>
		            <input type="number" class="form-control" name="consultantsShareRate" id="field_consultantsShareRate" ng-required="vm.contractInfo.consultants" 
		                    ng-model="vm.contractInfo.consultantsShareRate" step="0.01" min="0" max="100"
		                     />
		            <div ng-show="myForm.consultantsShareRate.$dirty&&myForm.consultantsShareRate.$error.number" class="alert alert-danger help-block"> 
		            	必须为数字
		            </div>
		            <div class="help-block"
	                   ng-show="myForm.consultantsShareRate.$error.required" data-translate="entity.validation.required" style="color:red">
	                    This field is required.
	                </div>
	                <div ng-show="myForm.consultantsShareRate.$dirty&&myForm.consultantsShareRate.$error.min" class="alert alert-danger help-block"> 
                		最小值为0
           			</div>
           			<div ng-show="myForm.consultantsShareRate.$dirty&&myForm.consultantsShareRate.$error.max" class="alert alert-danger help-block"> 
                		最大值为100
           			</div>
				</div>
        		<div class="col-sm-6">
        			&nbsp;
        		</div>
        	</div>
        	<div class="form-group">
				<div class="col-sm-6">
					<label class="control-label" data-translate="cpmApp.contractInfo.startDay" for="field_startDay">Start Day</label>
		            <div class="input-group">
		                <input id="field_startDay" type="text" class="form-control" name="startDay" ng-model="vm.contractInfo.startDay" is-open="vm.datePickerOpenStatus.startDay"
		                datetime-picker="yyyy-MM-dd" enable-time="false" readonly ng-required="true" ng-minlength="10"
		                  />
		                <span class="input-group-btn">
		                    <button type="button" class="btn btn-default" ng-click="vm.openCalendar('startDay')"><i class="glyphicon glyphicon-calendar"></i></button>
		                </span>
		            </div>
	                <div ng-show="myForm.startDay.$dirty&&myForm.startDay.$error.minlength" class="alert alert-danger help-block"> 
	                	开始日期必填
	            	</div>
	            	<div class="help-block"
	                   ng-show="myForm.startDay.$error.required" data-translate="entity.validation.required" style="color:red">
	                    This field is required.
	                </div>
				</div>
        		<div class="col-sm-6">
        			<label class="control-label" data-translate="cpmApp.contractInfo.endDay" for="field_endDay">End Day</label>
	                <div class="input-group">
	                    <input id="field_endDay" type="text" class="form-control" name="endDay" ng-model="vm.contractInfo.endDay" is-open="vm.datePickerOpenStatus.endDay"
	                      datetime-picker="yyyy-MM-dd" enable-time="false" readonly ng-required="true" ng-minlength="10"
	                      />
	                    <span class="input-group-btn">
	                        <button type="button" class="btn btn-default" ng-click="vm.openCalendar('endDay')"><i class="glyphicon glyphicon-calendar"></i></button>
	                    </span>
	                </div>
	                <div ng-show="myForm.endDay.$dirty&&myForm.endDay.$error.minlength" class="alert alert-danger help-block"> 
	                	结束日期必填
	            	</div>
	            	<div class="help-block"
	                   ng-show="myForm.endDay.$error.required" data-translate="entity.validation.required" style="color:red">
	                    This field is required.
	                </div>
        		</div>
        	</div>
        	<div class="form-group">
				<div class="col-sm-6">
					<label class="control-label" data-translate="cpmApp.contractInfo.amount" for="field_amount">Amount</label>
		            <input type="number" class="form-control" name="amount" id="field_amount"
		                    ng-model="vm.contractInfo.amount" ng-required="true" ng-minlength="1" step="0.01" min="0" ng-change="vm.amountChanged()"
		                     />
		             <div ng-show="myForm.amount.$dirty&&myForm.amount.$error.minlength" class="alert alert-danger help-block"> 
		                    	合同金额必填
		           	</div>
		           	<div class="help-block"
	                   ng-show="myForm.amount.$error.required" data-translate="entity.validation.required" style="color:red">
	                    This field is required.
	                </div>
	                <div ng-show="myForm.amount.$dirty&&myForm.amount.$error.min" class="alert alert-danger help-block"> 
                		最小值为0
           			</div>
				</div>
        		<div class="col-sm-6">
        			<label class="control-label" data-translate="cpmApp.contractInfo.paymentWay" for="field_paymentWay">Payment Way</label>
	            	<input type="text" class="form-control" name="paymentWay" id="field_paymentWay"
	                    ng-model="vm.contractInfo.paymentWay" ng-maxlength="100"
	                     />
	               	<div ng-show="myForm.paymentWay.$dirty&&myForm.paymentWay.$error.maxlength" class="alert alert-danger help-block"> 
		             	付款方式不能大于100长度
		             </div>
        		</div>
        	</div>
        	<div class="form-group">
				<div class="col-sm-6">
					<label class="control-label" data-translate="cpmApp.contractInfo.taxRate" for="field_taxRate">Tax Rate</label>
		            <input type="number" class="form-control" name="taxRate" id="field_taxRate" ng-required="true" 
		                    ng-model="vm.contractInfo.taxRate" step="0.01" min="0" max="100" ng-change="vm.taxRateChanged()"
		                     />
		            <div ng-show="myForm.taxRate.$dirty&&myForm.taxRate.$error.number" class="alert alert-danger help-block"> 
		            	必须为数字
		            </div>
		            <div class="help-block"
	                   ng-show="myForm.taxRate.$error.required" data-translate="entity.validation.required" style="color:red">
	                    This field is required.
	                </div>
	                <div ng-show="myForm.taxRate.$dirty&&myForm.taxRate.$error.min" class="alert alert-danger help-block"> 
                		最小值为0
           			</div>
           			<div ng-show="myForm.taxRate.$dirty&&myForm.taxRate.$error.max" class="alert alert-danger help-block"> 
                		最大值为100
           			</div>
				</div>
        		<div class="col-sm-6">
        			<label class="control-label" data-translate="cpmApp.contractInfo.taxes" for="field_taxes">Taxes</label>
		            <input type="number" class="form-control" name="taxes" id="field_taxes" ng-required="true" 
		                    ng-model="vm.contractInfo.taxes" step="0.01" min="0" ng-change="vm.taxesChanged()"
		                     />
		            <div ng-show="myForm.taxes.$dirty&&myForm.taxes.$error.number" class="alert alert-danger help-block"> 
		                    	必须为数字
		            </div>
		            <div class="help-block"
	                   ng-show="myForm.taxes.$error.required" data-translate="entity.validation.required" style="color:red">
	                    This field is required.
	                </div>
	                <div ng-show="myForm.taxes.$dirty&&myForm.taxes.$error.min" class="alert alert-danger help-block"> 
                		最小值为0
           			</div>
        		</div>
        	</div>
        	<div class="form-group">
				<div class="col-sm-6">
					<label class="control-label" data-translate="cpmApp.contractInfo.shareRate" for="field_shareRate">Share Rate</label>
	            	<input type="number" class="form-control" name="shareRate" id="field_shareRate" ng-required="true" 
	                    ng-model="vm.contractInfo.shareRate" step="0.01" min="0" max="100" ng-change="vm.shareRateChanged()"
	                     />
	             	<div ng-show="myForm.shareRate.$dirty&&myForm.shareRate.$error.number" class="alert alert-danger help-block"> 
	               		必须为数字
	              	</div>
	              	<div class="help-block"
	                   ng-show="myForm.shareRate.$error.required" data-translate="entity.validation.required" style="color:red">
	                    This field is required.
	                </div>
	                <div ng-show="myForm.shareRate.$dirty&&myForm.shareRate.$error.min" class="alert alert-danger help-block"> 
                		最小值为0
           			</div>
           			<div ng-show="myForm.shareRate.$dirty&&myForm.shareRate.$error.max" class="alert alert-danger help-block"> 
                		最大值为100
           			</div>
				</div>
        		<div class="col-sm-6">
        			<label class="control-label" data-translate="cpmApp.contractInfo.shareCost" for="field_shareCost">Share Cost</label>
		            <input type="number" class="form-control" name="shareCost" id="field_shareCost" ng-model="vm.contractInfo.shareCost"
		             step="0.01" min="0" ng-required="true"  ng-change="vm.shareCostChanged()"
		                     />
		         	<div ng-show="myForm.shareCost.$dirty&&myForm.shareCost.$error.number" class="alert alert-danger help-block"> 
		            	必须为数字
		         	</div>
		         	<div class="help-block"
	                   ng-show="myForm.shareCost.$error.required" data-translate="entity.validation.required" style="color:red">
	                    This field is required.
	                </div>
	                <div ng-show="myForm.shareCost.$dirty&&myForm.shareCost.$error.min" class="alert alert-danger help-block"> 
                		最小值为0
           			</div>
        		</div>
        	</div>
        	<div class="form-group">
				<div class="col-sm-6">
					<label class="control-label" data-translate="cpmApp.contractInfo.contractor" for="field_contractor">Contractor</label>
		            <input type="text" class="form-control" name="contractor" id="field_contractor"
		                    ng-model="vm.contractInfo.contractor" ng-maxlength="100"
		                     />
		             <div ng-show="myForm.contractor.$dirty&&myForm.contractor.$error.maxlength" class="alert alert-danger help-block"> 
		             	合同方公司名称不能大于100
		             </div>
				</div>
        		<div class="col-sm-6">
        			<label class="control-label" data-translate="cpmApp.contractInfo.linkman" for="field_linkman">Linkman</label>
		            <input type="text" class="form-control" name="linkman" id="field_linkman"
		                    ng-model="vm.contractInfo.linkman" ng-maxlength="15"
		                     />
		           	<div ng-show="myForm.linkman.$dirty&&myForm.linkman.$error.maxlength" class="alert alert-danger help-block"> 
		            	合同方联系人名称不能大于15
		          	</div>
        		</div>
        	</div>
        	<div class="form-group">
        		<div class="col-sm-6">
        			<label class="control-label" data-translate="cpmApp.contractInfo.contactDept" for="field_contactDept">Contact Dept</label>
            		<input type="text" class="form-control" name="contactDept" id="field_contactDept" ng-maxlength="100"
                    ng-model="vm.contractInfo.contactDept"
                     />
                   	<div ng-show="myForm.contactDept.$dirty&&myForm.contactDept.$error.maxlength" class="alert alert-danger help-block"> 
		            	合同方联系电话不能大于100长度
		          	</div>
        		</div>
        		<div class="col-sm-6">
        			<label class="control-label" data-translate="cpmApp.contractInfo.telephone" for="field_telephone">Telephone</label>
		            <input type="text" class="form-control" name="telephone" id="field_telephone"
		                    ng-model="vm.contractInfo.telephone" ng-maxlength="15"
		                     />
		           	<div ng-show="myForm.telephone.$dirty&&myForm.telephone.$error.maxlength" class="alert alert-danger help-block"> 
		            	合同方联系电话不能大于15长度
		          	</div>
        		</div>
        	</div>
        	<div class="form-group">
				<div class="col-sm-6">
					<label class="control-label" data-translate="cpmApp.contractInfo.address" for="field_address">Address</label>
		            <input type="text" class="form-control" name="address" id="field_address"
		                    ng-model="vm.contractInfo.address" ng-maxlength="200"
		                     />
		         	<div ng-show="myForm.address.$dirty&&myForm.address.$error.maxlength" class="alert alert-danger help-block"> 
		            	合同方通信地址不能大于200长度
		         	</div>
				</div>
        		<div class="col-sm-6">
        			<label class="control-label" data-translate="cpmApp.contractInfo.postcode" for="field_postcode">Postcode</label>
		            <input type="text" class="form-control" name="postcode" id="field_postcode"
		                    ng-model="vm.contractInfo.postcode" ng-maxlength="15"
		                     />
		           	<div ng-show="myForm.postcode.$dirty&&myForm.postcode.$error.maxlength" class="alert alert-danger help-block"> 
		             	合同方邮编不能大于15
		          	</div>
        		</div>
        	</div>
        	<div class="form-group" ng-show="vm.showCase">
        		<div class="col-sm-6">
					<div style="width:300px;height:30px; float:left;border-bottom:2px solid #ccc">
		    			<span style="width:65px;height:30px; float:left; border-bottom:2px solid #06f; margin-bottom:-2px; line-height:35px">外包人员</span>
					</div>
        		</div>
        	</div>
        	<div class="form-group" ng-show="vm.showTable">
        		<div class="col-sm-6">
					<div style="width:300px;height:30px; float:left;border-bottom:2px solid #ccc">
		    			<span style="width:65px;height:30px; float:left; border-bottom:2px solid #06f; margin-bottom:-2px; line-height:35px"></span>
					</div>
        		</div>
        	</div>
        	<div class="form-group" ng-show="vm.showTable">
	        	<div class="col-sm-6">
	        		<div class="table-header" data-translate="cpmApp.contractInfo.home.outsourcingUserInfos" style="font-weight:bold;"> OutSourcing User Infos </div>
		       		<div class="form-group">
		       			<div class="col-xs-12">
				            <button type="submit"
			                        ui-sref="contract-info.edit.creatOutsourcingUser"
			                        class="btn btn-success btn-sm">
			                    <span class="glyphicon glyphicon-plus"></span>
			                    <span class="ng-scope" data-translate="cpmApp.contractInfo.home.createLabel">Create new Contract Info</span>
			                </button>
		               	</div>
		       		</div>
		        	<div class="table-responsive">
					    <table class="table table-striped table-bordered table-hover">
					        <thead>
					            <tr jh-sort="vm.predicate" ascending="vm.reverse" callback="vm.transition()">
									<th style="text-align:center;"><span data-translate="cpmApp.outsourcing.rank">Rank</span></th>
									<th style="text-align:center;"><span data-translate="cpmApp.outsourcing.targetAmount">Target Amount</span></th>
									<th style="text-align:center;"><span data-translate="cpmApp.outsourcing.offer">Offer</span></th>
									<th></th>
					            </tr>
					        </thead>
					        <tbody>
					            <tr ng-repeat="outsourcingUsers in vm.outsourcingUsers track by outsourcingUsers.id">
					                <td style="text-align:center;">{{outsourcingUsers.rank}}</td>
					                <td style="text-align:center;">{{outsourcingUsers.targetAmount}}</td>
					                <td style="text-align:center;">{{outsourcingUsers.offer}}</td>
					                <td class="text-right">
					                    <div class="btn-group flex-btn-group-container">
					                        <button type="submit"
					                                  ui-sref="contract-info.edit.changeOutsourcingUser({infoId:outsourcingUsers.id})"
					                                  class="btn btn-primary btn-sm">
					                            <span class="glyphicon glyphicon-pencil"></span>
					                        </button>
					                    </div>
					                </td>
					            </tr>
					        </tbody>
					    </table>
		    		</div>	
				</div>
	        </div>
	        <!-- 添加 -->
	        <div class="form-group" ng-show="vm.showNewTable">
        		<div class="col-sm-6">
					<div style="width:300px;height:30px; float:left;border-bottom:2px solid #ccc">
		    			<span style="width:65px;height:30px; float:left; border-bottom:2px solid #06f; margin-bottom:-2px; line-height:35px"></span>
					</div>
        		</div>
        	</div>
        	<div class="form-group" ng-show="vm.showNewTable">
	        	<div class="col-sm-12">
	        		<div class="table-header" data-translate="cpmApp.contractInfo.home.outsourcingUserInfos" style="font-weight:bold;"> OutSourcing User Infos </div>
		       		<div class="form-group">
		       			<div class="col-xs-6">
				            <button type="submit"
			                        ui-sref="contract-info.new.creatOutsourcingUser({mark:vm.mark})"
			                        class="btn btn-success btn-sm">
			                    <span class="glyphicon glyphicon-plus"></span>
			                    <span class="ng-scope" data-translate="cpmApp.contractInfo.home.createLabel">Create new Contract Info</span>
			                </button>
		               	</div>
		       		</div>
		        	<div class="table-responsive">
					    <table class="table table-striped table-bordered table-hover">
					        <thead>
					            <tr jh-sort="vm.predicate" ascending="vm.reverse" callback="vm.transition()">
									<th style="text-align:center;"><span data-translate="cpmApp.outsourcing.rank">Rank</span></th>
									<th style="text-align:center;"><span data-translate="cpmApp.outsourcing.targetAmount">Target Amount</span></th>
									<th style="text-align:center;"><span data-translate="cpmApp.outsourcing.offer">Offer</span></th>
									<th></th>
					            </tr>
					        </thead>
					        <tbody>
					            <tr ng-repeat="outsourcingUsers in vm.outsourcingUsers track by outsourcingUsers.id">
					                <td style="text-align:center;">{{outsourcingUsers.rank}}</td>
					                <td style="text-align:center;">{{outsourcingUsers.targetAmount}}</td>
					                <td style="text-align:center;">{{outsourcingUsers.offer}}</td>
					                <td class="text-right">
					                    <div class="btn-group flex-btn-group-container">
					                        <button type="submit"
					                                  ui-sref="contract-info.new.changeOutsourcingUser({id:outsourcingUsers.id})"
					                                  class="btn btn-primary btn-sm">
					                            <span class="glyphicon glyphicon-pencil"></span>
					                        </button>
					                    </div>
					                </td>
					            </tr>
					        </tbody>
					    </table>
		    		</div>	
				</div>
	        </div>
        </div>
    </div>
    <hr>
    <jhi-alert></jhi-alert>
	<jhi-alert-error></jhi-alert-error>
	<button type="submit"
        ui-sref="{{ vm.previousState }}"
        class="btn btn-info">
        <span class="glyphicon glyphicon-arrow-left"></span>&nbsp;<span data-translate="entity.action.back"> Back</span>
    </button>
    <button type="submit" ng-disabled="!myForm.$valid || vm.isSaving" class="btn btn-primary">
        <span class="glyphicon glyphicon-save"></span>&nbsp;<span data-translate="entity.action.save">Save</span>
    </button>
</form>
